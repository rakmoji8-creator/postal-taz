<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Postal - ¡Feliz cumpleaños!</title>
  <style>
    :root{--bg:#0b0b0b;--gold:#D4AF37;--muted:#bfb8a6;--white:#f6f5f3}
    html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
    body{background:linear-gradient(180deg, rgba(13,13,13,1) 0%, rgba(7,7,7,1) 100%);color:var(--white);display:flex;align-items:center;justify-content:center;padding:20px}
    .card{width:900px;max-width:95vw;background:linear-gradient(180deg, rgba(20,20,20,0.75), rgba(8,8,8,0.9));border-radius:18px;box-shadow:0 20px 60px rgba(0,0,0,0.7);overflow:hidden;border:1px solid rgba(212,175,55,0.08)}
    .hero{display:grid;grid-template-columns:1fr 420px;gap:24px;padding:36px}
    @media (max-width:820px){.hero{grid-template-columns:1fr;}}

    /* Left content */
    .left{padding:12px 8px;display:flex;flex-direction:column;justify-content:center}
    .headline{font-size:40px;line-height:1.05;font-weight:700;color:var(--gold);letter-spacing:-0.02em}
    .sub{margin-top:14px;color:var(--white);font-size:18px;line-height:1.45}
    .body-text{margin-top:20px;color:var(--muted);font-size:16px;line-height:1.6}

    /* Right scene */
    .scene{position:relative;background:radial-gradient(circle at 20% 20%, rgba(212,175,55,0.06), transparent 10%), linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.6));border-radius:12px;padding:18px;display:flex;align-items:center;justify-content:center}
    .stadium{width:100%;height:100%;min-height:360px;display:flex;align-items:center;justify-content:center;position:relative}

    /* stylized mascot (whirlwind) */
    .mascot{width:260px;height:300px;position:relative;transform-origin:center;animation:subtleSpin 8s linear infinite}
    @keyframes subtleSpin{0%{transform:rotate(0deg)}50%{transform:rotate(3deg)}100%{transform:rotate(0deg)}}
    .mascot .body{position:absolute;left:50%;transform:translateX(-50%);bottom:0;width:220px;height:220px;border-radius:999px;background:conic-gradient(from 90deg, rgba(212,175,55,0.06), rgba(255,255,255,0.02));box-shadow:inset 0 -8px 30px rgba(0,0,0,0.6)}
    .mascot .face{position:absolute;left:50%;transform:translateX(-50%);top:18%;width:160px;height:120px;background:linear-gradient(180deg,#eee,#ddd);border-radius:18px;display:flex;flex-direction:column;align-items:center;justify-content:center}
    .mascot .eyes{width:70%;height:18px;background:#333;border-radius:9px;margin-top:8px}
    .mascot .smile{width:36px;height:20px;border-radius:20px;border-bottom:4px solid #322f2b;margin-top:8px}
    .jersey{position:absolute;left:50%;transform:translateX(-50%);bottom:38px;width:180px;height:100px;background:linear-gradient(180deg,#0b0b0b,#0f0f0f);border-radius:10px;display:flex;align-items:center;justify-content:center;color:var(--gold);font-weight:800;font-size:48px;border:4px solid rgba(212,175,55,0.12)}
    .towel{position:absolute;right:6px;bottom:6px;background:linear-gradient(180deg,var(--gold),#b9962a);padding:8px;border-radius:6px;font-weight:700;color:#0b0b0b;font-size:12px}

    /* confetti */
    .confetti{position:absolute;inset:0;pointer-events:none;overflow:hidden}
    .confetti i{position:absolute;width:10px;height:18px;opacity:0.95;transform-origin:center;animation:fall 3.6s linear infinite}
    @keyframes fall{0%{transform:translateY(-40vh) rotate(0) translateX(0)}100%{transform:translateY(110vh) rotate(360deg) translateX(60px)}}

    /* bottom area */
    .bottom{display:flex;align-items:center;justify-content:space-between;padding:18px 24px;border-top:1px solid rgba(255,255,255,0.03)}
    .qr-wrap{display:flex;align-items:center;gap:12px}
    .qr-box{width:110px;height:110px;background:linear-gradient(180deg,#0b0b0b,#0b0b0b);display:flex;align-items:center;justify-content:center;border-radius:8px;border:3px solid rgba(212,175,55,0.18);box-shadow:0 8px 30px rgba(212,175,55,0.06)}
    .scan-text{font-size:13px;color:var(--muted)}
    .note{font-size:13px;color:var(--muted)}

    /* small flourish */
    .gold-flare{position:absolute;left:10px;top:10px;font-size:12px;color:var(--gold);opacity:0.9}

    /* ending heart */
    .heart{font-size:32px;opacity:0;transform:scale(0.6);transition:all .6s cubic-bezier(.2,.9,.3,1)}
    .heart.show{opacity:1;transform:scale(1)}

  </style>
</head>
<body>
  <div class="card" role="main" aria-label="Postal de cumpleaños">
    <div class="hero">
      <div class="left">
        <div class="gold-flare">🎂 ¡TOUCHDOWN DE CUMPLEAÑOS!</div>
        <h1 class="headline">🧸 ¡Feliz cumpleaños!</h1>
        <p class="sub">Hoy el campo está encendido, los fans aplauden,<br>y el mismísimo Taz (versión tornado / mascota) se puso el casco solo para festejarte (aunque ya giró tres veces y tiró el pastel 🤭).</p>
        <p class="body-text" id="bodyText">Te deseo un año lleno de jugadas maestras, de esas en las que la vida te da el balón justo cuando pensabas que te había tacleado. Gracias por ser quien eres: auténtico, divertido y con ese toque Steelers que hace imposible no apreciarte. ¡Sube el volumen, pon cara de 🧸 y deja que Taz arme la fiesta! 🎶🎂</p>
      </div>

      <div class="right scene">
        <div class="stadium" aria-hidden="true">
          <div class="mascot" id="mascot">
            <div class="body"></div>
            <div class="face">
              <div class="eyes"></div>
              <div class="smile"></div>
            </div>
            <div class="jersey">90</div>
            <div class="towel">Terrible</div>
          </div>
          <div class="confetti" id="confetti"></div>
        </div>
      </div>
    </div>

    <div class="bottom">
      <div class="left-bottom">
        <div class="scan-text">✨ Escanea aquí para tu sorpresa especial ✨</div>
        <div class="note" style="margin-top:6px">(Video elegante y musical)</div>
      </div>

      <div class="qr-wrap">
        <div class="qr-box" id="qrBox">
          <!-- placeholder QR; replace with real QR image that points to this page URL -->
          <svg width="86" height="86" viewBox="0 0 86 86" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <rect x="4" y="4" width="20" height="20" fill="white"/>
            <rect x="34" y="4" width="20" height="20" fill="white"/>
            <rect x="64" y="4" width="18" height="18" fill="white"/>
            <rect x="4" y="34" width="18" height="18" fill="white"/>
            <rect x="34" y="34" width="16" height="16" fill="white"/>
            <rect x="60" y="34" width="6" height="6" fill="white"/>
            <rect x="4" y="64" width="18" height="18" fill="white"/>
            <rect x="34" y="64" width="16" height="16" fill="white"/>
            <rect x="64" y="64" width="18" height="18" fill="white"/>
          </svg>
        </div>
        <div style="text-align:right">
          <div class="scan-text">Escanea</div>
          <div class="note">(o haz click)</div>
        </div>
      </div>
    </div>

  </div>

  <!-- audio: PLEASE replace the src with a legally obtained audio file URL (you must have rights to use the Coldplay acoustic track) -->
  <audio id="bgAudio" preload="auto" crossorigin="anonymous">
    <source src="audio/a-sky-full-of-stars-acoustic.mp3" type="audio/mpeg">
    Tu navegador no soporta audio embebido.
  </audio>

  <script>
    // confetti generator (simple)
    const confettiContainer = document.getElementById('confetti');
    const colors = ['#D4AF37','#ffffff','#b9962a','#f3e7c9'];
    function makeConfetti(){
      for(let i=0;i<18;i++){
        const el = document.createElement('i');
        el.style.left = Math.random()*100 + '%';
        el.style.background = colors[Math.floor(Math.random()*colors.length)];
        el.style.width = (6 + Math.random()*10)+'px';
        el.style.height = (10 + Math.random()*14)+'px';
        el.style.top = -40 - Math.random()*40 + 'vh';
        el.style.animationDuration = (2.6 + Math.random()*1.6)+'s';
        el.style.transform = 'rotate('+(Math.random()*360)+'deg)';
        confettiContainer.appendChild(el);
        setTimeout(()=> el.remove(), 4200);
      }
    }
    // initial confetti burst
    setInterval(makeConfetti, 1200);

    // timed text reveal for the video-like experience
    const lines = [
      '💛 ¡Feliz cumpleaños 🧸!',
      'Hoy quiero regalarte algo más que palabras…',
      'un recordatorio de lo mucho que significó compartir parte del camino contigo.',
      'Fuimos equipo, risa, aprendizaje y complicidad.',
      'No todo fue fácil, pero cada momento dejó algo valioso.',
      'Agradezco el tiempo, las historias,',
      'y lo que descubrí de mí gracias a nosotros.',
      'Ahora deseo que sigamos construyendo esa versión más ligera y auténtica de nuestra amistad —',
      'la que se apoya, se ríe y se alegra de verdad.',
      'Porque más allá de todo,',
      'te tengo un cariño enorme 🧸',
      '💜🫰',
      ''
    ];

    // create an overlay modal for the "video" experience
    function openVideoView(){
      const overlay = document.createElement('div');
      overlay.style.position = 'fixed';overlay.style.inset=0;overlay.style.background='rgba(0,0,0,0.92)';overlay.style.display='flex';overlay.style.alignItems='center';overlay.style.justifyContent='center';overlay.style.zIndex=9999;
      const box = document.createElement('div');box.style.width='100%';box.style.maxWidth='820px';box.style.borderRadius='12px';box.style.overflow='hidden';box.style.padding='28px';box.style.boxShadow='0 30px 80px rgba(0,0,0,0.7)';box.style.background='linear-gradient(180deg,#080808,#0f0f0f)';box.style.color='var(--white)';
      overlay.appendChild(box);

      const textArea = document.createElement('div');textArea.style.minHeight='320px';textArea.style.display='flex';textArea.style.flexDirection='column';textArea.style.alignItems='center';textArea.style.justifyContent='center';textArea.style.textAlign='center';textArea.style.gap='12px';box.appendChild(textArea);

      let idx=0;
      const p = document.createElement('div');p.style.fontSize='20px';p.style.lineHeight='1.5';p.style.color='#f6f5f3';textArea.appendChild(p);

      const footer = document.createElement('div');footer.style.marginTop='16px';footer.style.display='flex';footer.style.justifyContent='center';footer.style.gap='12px';box.appendChild(footer);

      const playBtn = document.createElement('button');playBtn.textContent='⏯ Reproducir / Pausar';playBtn.style.padding='8px 14px';playBtn.style.borderRadius='8px';playBtn.style.border='none';playBtn.style.cursor='pointer';playBtn.style.background='linear-gradient(90deg,#d4af37,#b9962a)';playBtn.style.color='#0b0b0b';playBtn.style.fontWeight='700';footer.appendChild(playBtn);

      const close = document.createElement('button');close.textContent='Cerrar';close.style.padding='8px 14px';close.style.borderRadius='8px';close.style.border='1px solid rgba(255,255,255,0.06)';close.style.cursor='pointer';close.style.background='transparent';close.style.color='#f6f5f3';footer.appendChild(close);

      // audio handling
      const audio = document.getElementById('bgAudio');
      playBtn.onclick = ()=>{
        if(audio.paused) audio.play(); else audio.pause();
      }
      close.onclick = ()=>{audio.pause();overlay.remove();}

      document.body.appendChild(overlay);

      // progressive reveal
      function showNext(){
        if(idx>=lines.length){
          // show final thank you
          const final = document.createElement('div');final.style.marginTop='12px';final.style.fontSize='18px';final.style.color= 'var(--gold)';final.style.fontWeight='700';final.textContent='Gracias por ser parte de mi historia 🧸';textArea.appendChild(final);

          const heart = document.createElement('div');heart.className='heart show';heart.style.marginTop='18px';heart.textContent='💜🫰';textArea.appendChild(heart);
          return;
        }
        p.textContent = lines[idx];
        idx++;
        setTimeout(showNext, 2800);
      }
      // try autoplay, but browsers may block; start paused and wait for user gesture
      audio.pause();
      showNext();
    }

    // clicking the qr-box or the card opens the "video" view
    document.getElementById('qrBox').addEventListener('click', openVideoView);
    document.querySelector('.card').addEventListener('click', function(e){
      // avoid opening when clicking QR specifically (it will open too) or when selecting text
      if(e.target.closest('#qrBox')) return;
      // open video only if click is in bottom area or on mascot
      const rect = document.querySelector('.bottom').getBoundingClientRect();
      if(e.clientY > rect.top - 10) openVideoView();
    });

    // accessibility: keyboard
    document.addEventListener('keydown', (e)=>{ if(e.key==='Enter') openVideoView(); });

    // note for hoster
    console.log('NOTA: Reemplaza audio/a-sky-full-of-stars-acoustic.mp3 con la ruta a la pista acústica que hayas obtenido legalmente.');

  </script>
</body>
</html>
